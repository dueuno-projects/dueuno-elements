<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.18">
<title>Quick Start</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.square{list-style-type:square}
ul.circle ul:not([class]),ul.disc ul:not([class]),ul.square ul:not([class]){list-style:inherit}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;outline:none;-webkit-tap-highlight-color:transparent}
details>summary::-webkit-details-marker{display:none}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos,pre.pygments .linenos{border-right:1px solid;opacity:.35;padding-right:.5em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
pre.pygments span.linenos{display:inline-block;margin-right:.75em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all>*>tr,table.stripes-odd>*>tr:nth-of-type(odd),table.stripes-even>*>tr:nth-of-type(even),table.stripes-hover>*>tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
li>p:empty:only-child::before{content:"";display:inline-block}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<style>
/*! Stylesheet for CodeRay to loosely match GitHub themes | MIT License */
pre.CodeRay{background:#f7f7f8}
.CodeRay .line-numbers{border-right:1px solid;opacity:.35;padding:0 .5em 0 0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
.CodeRay span.line-numbers{display:inline-block;margin-right:.75em}
.CodeRay .line-numbers strong{color:#000}
table.CodeRay{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.CodeRay td{vertical-align:top;line-height:inherit}
table.CodeRay td.line-numbers{text-align:right}
table.CodeRay td.code{padding:0 0 0 .75em}
.CodeRay .debug{color:#fff!important;background:navy!important}
.CodeRay .annotation{color:#007}
.CodeRay .attribute-name{color:navy}
.CodeRay .attribute-value{color:#700}
.CodeRay .binary{color:#509}
.CodeRay .comment{color:#998;font-style:italic}
.CodeRay .char{color:#04d}
.CodeRay .char .content{color:#04d}
.CodeRay .char .delimiter{color:#039}
.CodeRay .class{color:#458;font-weight:bold}
.CodeRay .complex{color:#a08}
.CodeRay .constant,.CodeRay .predefined-constant{color:teal}
.CodeRay .color{color:#099}
.CodeRay .class-variable{color:#369}
.CodeRay .decorator{color:#b0b}
.CodeRay .definition{color:#099}
.CodeRay .delimiter{color:#000}
.CodeRay .doc{color:#970}
.CodeRay .doctype{color:#34b}
.CodeRay .doc-string{color:#d42}
.CodeRay .escape{color:#666}
.CodeRay .entity{color:#800}
.CodeRay .error{color:#808}
.CodeRay .exception{color:inherit}
.CodeRay .filename{color:#099}
.CodeRay .function{color:#900;font-weight:bold}
.CodeRay .global-variable{color:teal}
.CodeRay .hex{color:#058}
.CodeRay .integer,.CodeRay .float{color:#099}
.CodeRay .include{color:#555}
.CodeRay .inline{color:#000}
.CodeRay .inline .inline{background:#ccc}
.CodeRay .inline .inline .inline{background:#bbb}
.CodeRay .inline .inline-delimiter{color:#d14}
.CodeRay .inline-delimiter{color:#d14}
.CodeRay .important{color:#555;font-weight:bold}
.CodeRay .interpreted{color:#b2b}
.CodeRay .instance-variable{color:teal}
.CodeRay .label{color:#970}
.CodeRay .local-variable{color:#963}
.CodeRay .octal{color:#40e}
.CodeRay .predefined{color:#369}
.CodeRay .preprocessor{color:#579}
.CodeRay .pseudo-class{color:#555}
.CodeRay .directive{font-weight:bold}
.CodeRay .type{font-weight:bold}
.CodeRay .predefined-type{color:inherit}
.CodeRay .reserved,.CodeRay .keyword{color:#000;font-weight:bold}
.CodeRay .key{color:#808}
.CodeRay .key .delimiter{color:#606}
.CodeRay .key .char{color:#80f}
.CodeRay .value{color:#088}
.CodeRay .regexp .delimiter{color:#808}
.CodeRay .regexp .content{color:#808}
.CodeRay .regexp .modifier{color:#808}
.CodeRay .regexp .char{color:#d14}
.CodeRay .regexp .function{color:#404;font-weight:bold}
.CodeRay .string{color:#d20}
.CodeRay .string .string .string{background:#ffd0d0}
.CodeRay .string .content{color:#d14}
.CodeRay .string .char{color:#d14}
.CodeRay .string .delimiter{color:#d14}
.CodeRay .shell{color:#d14}
.CodeRay .shell .delimiter{color:#d14}
.CodeRay .symbol{color:#990073}
.CodeRay .symbol .content{color:#a60}
.CodeRay .symbol .delimiter{color:#630}
.CodeRay .tag{color:teal}
.CodeRay .tag-special{color:#d70}
.CodeRay .variable{color:#036}
.CodeRay .insert{background:#afa}
.CodeRay .delete{background:#faa}
.CodeRay .change{color:#aaf;background:#007}
.CodeRay .head{color:#f8f;background:#505}
.CodeRay .insert .insert{color:#080}
.CodeRay .delete .delete{color:#800}
.CodeRay .change .change{color:#66f}
.CodeRay .head .head{color:#f4f}
</style>
</head>
<body class="article toc2 toc-left">
<div id="header">
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_quick_start">Quick Start</a>
<ul class="sectlevel2">
<li><a href="#_goals">Goals</a></li>
<li><a href="#_non_goals">Non-Goals</a></li>
<li><a href="#_try_it_out">Try it out</a></li>
</ul>
</li>
<li><a href="#_basics">Basics</a>
<ul class="sectlevel2">
<li><a href="#_the_shell">The Shell</a></li>
<li><a href="#_project_structure">Project Structure</a></li>
<li><a href="#_features">Features</a></li>
<li><a href="#_controllers">Controllers</a></li>
<li><a href="#_services">Services</a></li>
<li><a href="#_domain">Domain</a></li>
<li><a href="#_database_connections">Database Connections</a></li>
<li><a href="#_tenants">Tenants</a></li>
<li><a href="#_user_management">User Management</a></li>
</ul>
</li>
<li><a href="#building-crud">CRUD</a></li>
<li><a href="#_whats_next">What&#8217;s next?</a></li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_quick_start">Quick Start</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_goals">Goals</h3>
<div class="paragraph">
<p><strong>With <em>Dueuno Elements</em> you can develop backoffice web applications writing code in a single programming language: <a href="https://groovy-lang.org/" target="_blank" rel="noopener">Apache Groovy</a>. No need to know HTML, CSS o Javascript.</strong></p>
</div>
<div class="paragraph">
<p>With <em>Dueuno Elements</em> you can develop and maintain web applications with requirements such as:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Authenticate &amp; authorize users (who can access and what they can do)</p>
</li>
<li>
<p>Implement several business features with a coherent user interface</p>
</li>
<li>
<p>Display and edit data in table format (CRUD)</p>
</li>
<li>
<p>Display charts, dashboards, etc. to build Business Intelligence applications</p>
</li>
<li>
<p>Let users customize their localization preferences with country specific formats (languages, dates, numbers, currencies, quantities, etc.)</p>
</li>
<li>
<p>Develop multi-device applications. Each application will automatically work on a desktop pc with a mouse as well as on a mobile device with a finger.</p>
</li>
<li>
<p>Develop multi-tenant applications. The same application can serve different clients with separate databases.</p>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The main purpose of <em>Dueuno Elements</em> is to decouple the business logic from the <em>User Interface (GUI)</em>. This lowers the costs of maintaining the application: just one language instead of 5 (HTML, CSS, JavaScript, Java, SQL), less skilled people can join the team and no need to upgrade the GUI when new web technologies/standards gets available.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_non_goals">Non-Goals</h3>
<div class="paragraph">
<p><strong><em>Dueuno Elements</em> is NOT a solution for:</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Creating classical websites (text + images + basic user interaction)</p>
</li>
<li>
<p>Creating graphical/animated web applications</p>
</li>
<li>
<p>Developing applications where the client retains strict control on how the user interface will look like</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>For such cases you can just use the beautiful <a href="https://grails.org/" target="_blank" rel="noopener">Grails</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_try_it_out">Try it out</h3>
<div class="paragraph">
<p>To develop <em>Dueuno Elements</em> applications you need to learn the basics of the <a href="https://groovy-lang.org/" target="_blank" rel="noopener">Apache Groovy</a> programming language and the basics of the <a href="https://grails.org/" target="_blank" rel="noopener">Grails framework</a>.</p>
</div>
<div class="sect3">
<h4 id="_learning_groovy">Learning Groovy</h4>
<div class="paragraph">
<p>The Groovy programming language has been around for more than 20 years now, it&#8217;s been the second language to be developed for the JVM. You can <a href="https://groovy-lang.org/documentation.html" target="_blank" rel="noopener">read the documentation</a> and access the <a href="https://groovy-lang.org/learn.html" target="_blank" rel="noopener">Groovy learning resources</a></p>
</div>
</div>
<div class="sect3">
<h4 id="_learning_grails">Learning Grails</h4>
<div class="paragraph">
<p>Grails has been helping web developers for 20 years now, it still is a growing and evolving technology so what you want to do is <a href="https://grails.org/documentation.html" target="_blank" rel="noopener">reading the latest documentation on the Grails website</a></p>
</div>
</div>
<div class="sect3">
<h4 id="_run">Run</h4>
<div class="paragraph">
<p>We are going to run our first <em>Dueuno Elements</em> application, ready?</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Download, install and run <a href="https://www.jetbrains.com/idea/" target="_blank" rel="noopener">IntelliJ IDEA Community Edition</a>.</p>
</li>
<li>
<p>Click on <code>File &#8594; New &#8594; Project From Version Control&#8230;&#8203;</code> and paste the following link <a href="https://github.com/dueuno-projects/dueuno-app-template" class="bare" target="_blank" rel="noopener">https://github.com/dueuno-projects/dueuno-app-template</a></p>
</li>
<li>
<p>Run the application from the Gradle sidebar (on the right) clicking on <code>Tasks &#8594; application &#8594; bootRun</code></p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">| Running application&#8230;&#8203;

Configuring Spring Security Core &#8230;&#8203;
&#8230;&#8203; finished configuring Spring Security Core

Grails application running at <a href="https://localhost:8080" class="bare" target="_blank" rel="noopener">https://localhost:8080</a> in environment: development</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The first run will take some time since it has to download all the needed dependencies.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>We can now navigate to <a href="https://localhost:8080" class="bare" target="_blank" rel="noopener">https://localhost:8080</a> to see the login screen. Login with the credentials <code><strong>super/super</strong></code> to play around with the basic features of a plain Dueuno Elements application.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/quick-start/user-guide-login.png" alt="Application Login">
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_basics">Basics</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In <em>Dueuno Elements</em> everything is a component. All visual objects of the application are derived from the same base class <code>Component</code> and they can be assembled together like we do with a LEGO set.</p>
</div>
<div class="paragraph">
<p>Some of these components are automatically created and managed by the <code>org.dueuno:elements-core</code> Grails plugin for each application instance. Let&#8217;s give them a quick look.</p>
</div>
<div class="sect2">
<h3 id="_the_shell">The Shell</h3>
<div class="paragraph">
<p>The <code>Shell</code> component is the <em>Dueuno Elements</em> GUI. Each <em>Dueuno Elements</em> application share a common user experience and content structure.</p>
</div>
<div class="sect3">
<h4 id="_login">Login</h4>
<div class="paragraph">
<p>Where you can log in.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/quick-start/basics-login.png" alt="Login">
</div>
</div>
</div>
<div class="sect3">
<h4 id="_home">Home</h4>
<div class="paragraph">
<p>Where you can find the application most relevant Features (favourits).</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/quick-start/basics-home.png" alt="Groups">
</div>
</div>
</div>
<div class="sect3">
<h4 id="_application_menu">Application Menu</h4>
<div class="paragraph">
<p>Where you can find the complete Features list.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/quick-start/basics-menu.png" alt="Application Menu">
</div>
</div>
</div>
<div class="sect3">
<h4 id="_user_menu">User Menu</h4>
<div class="paragraph">
<p>Where you can find the user options.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/quick-start/basics-user-menu.png" alt="User Menu">
</div>
</div>
</div>
<div class="sect3">
<h4 id="_navigation_bar">Navigation Bar</h4>
<div class="paragraph">
<p>The user can access (from left to right) (1) the Main Menu, (2) the Home - where users can find their favourite features - and (3) the User Menu.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/quick-start/basics-navigation-bar.png" alt="Navigation Bar">
</div>
</div>
</div>
<div class="sect3">
<h4 id="_content">Content</h4>
<div class="paragraph">
<p>Each Feature will display as an interactive screen into the main area surrounded by the shell. We call this area the Shell <em>Content</em>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/quick-start/basics-content.png" alt="Content">
</div>
</div>
<div class="paragraph">
<p>Contents can be displayed as modals. A modal content is rendered inside a dialog window. This lets the user focus on a specific part of the Feature to accomplish subtasks like editing a specific object.</p>
</div>
<div class="paragraph">
<p>Modals can be displayed in three sizes: <code>normal</code> (default), <code>wide</code> and <code>fullscreen</code>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/quick-start/basics-content-modal.png" alt="Modal Content">
</div>
</div>
</div>
<div class="sect3">
<h4 id="_user_messages">User Messages</h4>
<div class="paragraph">
<p>The application can display messages to the user to send alerts or confirm actions.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/quick-start/basics-content-message.png" alt="Message">
</div>
</div>
</div>
<div class="sect3">
<h4 id="_responsiveness">Responsiveness</h4>
<div class="paragraph">
<p>All <em>Dueuno Elements</em> applications work both on desktop computers and on mobile devices by design and without the developer having to cope with it. Here is how an application looks like on a Desktop, on a Tablet and on a Mobile Phone.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/quick-start/basics-device-desktop.png" alt="Desktop">
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/quick-start/basics-device-tablet.png" alt="Tablet">
</div>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="images/quick-start/basics-device-phone.png" alt="Phone" width="300">
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_project_structure">Project Structure</h3>
<div class="paragraph">
<p><em>Dueuno Elements</em> applications are Grails applications. The project structure, follows the <em>conventions over configuration</em> design paradigm so each folder contains specific source file types.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>/myapp                      <i class="conum" data-value="1"></i><b>(1)</b>

  /grails-app               <i class="conum" data-value="2"></i><b>(2)</b>
    /controllers            <i class="conum" data-value="3"></i><b>(3)</b>
    /services               <i class="conum" data-value="4"></i><b>(4)</b>
    /domain                 <i class="conum" data-value="5"></i><b>(5)</b>
    /i18n                   <i class="conum" data-value="6"></i><b>(6)</b>
    /init                   <i class="conum" data-value="7"></i><b>(7)</b>
    /conf                   <i class="conum" data-value="8"></i><b>(8)</b>

  /src
    /main
      /groovy              <i class="conum" data-value="9"></i><b>(9)</b></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Project root</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Web Application root</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>User Interface. Each class name under this directory must end with <code>Controller</code> (Eg. <code>PersonController</code>)</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Business Logic. Each class name under this directory must end with <code>Service</code> (Eg. <code>PersonService</code>)</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Database. Each class name under this directory must begin with <code>T</code> (Eg. <code>TPerson</code>)</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>Translations</td>
</tr>
<tr>
<td><i class="conum" data-value="7"></i><b>7</b></td>
<td>Initialization</td>
</tr>
<tr>
<td><i class="conum" data-value="8"></i><b>8</b></td>
<td>Configuration files</td>
</tr>
<tr>
<td><i class="conum" data-value="9"></i><b>9</b></td>
<td>Other application source files</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Each folder contains the package structure, so for example if your application main package is <code>myapp</code> the source file structure will look like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>/myapp
  /grails-app

    /controllers
      /myapp
        MyController.groovy

    /services
      /myapp
        MyService.groovy

    /domain
      /myapp
        MyDomainClass.groovy

    /init
      /myapp
        BootStrap.groovy

  /src
    /main
      /groovy
        /myapp
          MyClass.groovy</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_features">Features</h3>
<div class="paragraph">
<p>A <em>Dueuno Elements</em> application is a container for a set of <em>Features</em>.</p>
</div>
<div class="paragraph">
<p>Each Feature consists of a set of visual objects the user can interact with to accomplish specific tasks. You can identify each Feature as an item in the application menu on the left. Clicking a menu item will display the content of the selected Feature.</p>
</div>
<div class="paragraph">
<p>To configure the application Features we register them in the <code>BootStrap.groovy</code> file.</p>
</div>
<div class="listingblock">
<div class="title">/grails-app/init/BootStrap.groovy</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="type">class</span> <span class="class">BootStrap</span> {

    ApplicationService applicationService <i class="conum" data-value="1"></i><b>(1)</b>

    <span class="keyword">def</span> init = { servletContext -&gt;

        applicationService.init { <i class="conum" data-value="2"></i><b>(2)</b>
            registerFeature( <i class="conum" data-value="3"></i><b>(3)</b>
                    <span class="key">controller</span>: <span class="string"><span class="delimiter">'</span><span class="content">person</span><span class="delimiter">'</span></span>,
                    <span class="key">icon</span>: <span class="string"><span class="delimiter">'</span><span class="content">fa-user</span><span class="delimiter">'</span></span>,
            )
        }

    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td><code>ApplicationService</code> is the object in charge of the application setup</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The <code>init = { servletContext &#8594; &#8230;&#8203; }</code> Grails closure is executed each time the application starts up</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Within the <code>applicationService.init { &#8230;&#8203; }</code> closure you can call any of the <code>applicationService</code> methods. In this case the method <code><a href="#registerFeature">[registerFeature]</a></code></td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_controllers">Controllers</h3>
<div class="paragraph">
<p>A <em>Feature</em>, in the end, is just a link to a <em>controller</em>. A <em>controller</em> is a container for a set of <em>actions</em>.</p>
</div>
<div class="paragraph">
<p>All <em>actions</em> that a user can take on the application (eg. a click on a button) are coded as methods of a <em>controller</em> class. Each action corresponds to a URL that will be submitted from the browser to the server. The URL follows this structure:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>http://my.company.com/${controllerName}/${actionName}</pre>
</div>
</div>
<div class="paragraph">
<p>For example the following Controller contains two actions that can be called like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>http://my.company.com/person/index <i class="conum" data-value="1"></i><b>(1)</b>
http://my.company.com/person/edit/1 <i class="conum" data-value="2"></i><b>(2)</b></pre>
</div>
</div>
<div class="listingblock">
<div class="title">/grails-app/controllers/PersonController.groovy</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="type">class</span> <span class="class">PersonController</span> <span class="directive">implements</span> ElementsController {

    <span class="keyword">def</span> <span class="function">index</span>() { <i class="conum" data-value="1"></i><b>(1)</b>
        dispaly ...
    }

    <span class="keyword">def</span> <span class="function">edit</span>() {  <i class="conum" data-value="2"></i><b>(2)</b>
        <span class="keyword">def</span> id = params.id <i class="conum" data-value="3"></i><b>(3)</b>
        display ... <i class="conum" data-value="4"></i><b>(4)</b>
    }

}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The <code>index</code> action. It&#8217;s the default one, it can also be called omitting the action name, eg. <code><a href="http://my.company.com/person" class="bare">http://my.company.com/person</a></code></td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The <code>edit</code> action, we are also passing <code>1</code> as the <code>id</code> parameter</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>The <code>params</code> implicit variable is a <code>Map</code> containing all the submitted parameters, in this case the <code>id</code> passed by the <code>edit</code> URL</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>The <code>display</code> method ends each action and tells the browser what component to display</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_services">Services</h3>
<div class="paragraph">
<p>We don&#8217;t implement business logic in Controllers. We do it in <em>Services</em>. Each Service is a class implementing several methods we can call from a Controller.</p>
</div>
<div class="paragraph">
<p>For example the following Service implements the method <code>sayHello()</code>.</p>
</div>
<div class="listingblock">
<div class="title">/grails-app/services/PersonService.groovy</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="annotation">@Slf4j</span>
<span class="annotation">@CurrentTenant</span>
<span class="type">class</span> <span class="class">PersonService</span> {

    <span class="predefined-type">String</span> sayHello() {
        log.info <span class="string"><span class="delimiter">&quot;</span><span class="content">Saying hello to the folks!</span><span class="delimiter">&quot;</span></span>
        <span class="keyword">return</span> <span class="string"><span class="delimiter">&quot;</span><span class="content">Hi folks!</span><span class="delimiter">&quot;</span></span>
    }

}</code></pre>
</div>
</div>
<div class="paragraph">
<p>We can call it from a Controller like this:</p>
</div>
<div class="listingblock">
<div class="title">/grails-app/controllers/PersonController.groovy</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="type">class</span> <span class="class">PersonController</span> <span class="directive">implements</span> ElementsController {

    PersonService personService <i class="conum" data-value="1"></i><b>(1)</b>

    <span class="keyword">def</span> <span class="function">index</span>() {
        <span class="keyword">def</span> hello = personService.sayHello()
        display <span class="key">message</span>: hello <i class="conum" data-value="2"></i><b>(2)</b>
    }

}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Service injection, the variable name must be the <code>camelCase</code> version of the <code>PascalCase</code> class name</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>the <code>display</code> method renders objects on the browser, in this case a message</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_domain">Domain</h3>
<div class="paragraph">
<p>To design the database for our applications we can use <a href="https://gorm.grails.org/" target="_blank" rel="noopener">GORM, the Grails Object Relational Mapper</a>. This means we can map database tables to domain classes like this:</p>
</div>
<div class="listingblock">
<div class="title">/grails-app/domain/TPerson.groovy</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="type">class</span> <span class="class">TPerson</span> <span class="directive">implements</span> GormEntity, MultiTenant&lt;TPerson&gt; { <i class="conum" data-value="1"></i><b>(1)</b>

    <span class="predefined-type">String</span> firstname
    <span class="predefined-type">String</span> lastname
    <span class="predefined-type">String</span> address

    <span class="directive">static</span> constraints = {
        address <span class="key">nullable</span>: <span class="predefined-constant">true</span>
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Dueuno Elements domain class names must start with <code>T</code>. This way we immediately know we are dealing with a domain class in our code.</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_database_connections">Database Connections</h3>
<div class="paragraph">
<p>Each application has a <code>DEFAULT</code> database connection defined in the <code>grails-app/conf/application.yml</code> file. This <code>DEFAULT</code> connection cannot be changed at runtime and it is used by <em>Dueuno Elements</em> to store its own database.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>You can configure multiple databases per environment (DEV, TEST, PRODUCTION, ect) in the <code>application.yml</code>, see: <a href="https://docs.grails.org/latest/guide/single.html#environments" class="bare">https://docs.grails.org/latest/guide/single.html#environments</a></p>
</li>
<li>
<p>You can edit/create database connections at runtime from the <em>Dueuno Elements</em> GUI accessing with the <code>super</code> user from the menu <code>System Configuration &#8594; Connection Sources</code></p>
</li>
<li>
<p>You can programmatically create database connections at runtime with the <code>ConnectionSourceService</code> as follows:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="title">/grails-app/init/BootStrap.groovy</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="type">class</span> <span class="class">BootStrap</span> {

    ApplicationService applicationService <i class="conum" data-value="1"></i><b>(1)</b>
    ConnectionSourceService connectionSourceService <i class="conum" data-value="2"></i><b>(2)</b>

    <span class="keyword">def</span> init = { servletContext -&gt;

        applicationService.onInstall { <span class="predefined-type">String</span> tenantId -&gt; <i class="conum" data-value="3"></i><b>(3)</b>
            connectionSourceService.create( <i class="conum" data-value="4"></i><b>(4)</b>
                    <span class="key">name</span>: <span class="string"><span class="delimiter">'</span><span class="content">runtimeDatasource</span><span class="delimiter">'</span></span>,
                    <span class="key">driverClassName</span>: <span class="string"><span class="delimiter">'</span><span class="content">org.h2.Driver</span><span class="delimiter">'</span></span>,
                    <span class="key">dbCreate</span>: <span class="string"><span class="delimiter">'</span><span class="content">update</span><span class="delimiter">'</span></span>,
                    <span class="key">username</span>: <span class="string"><span class="delimiter">'</span><span class="content">sa</span><span class="delimiter">'</span></span>,
                    <span class="key">password</span>: <span class="string"><span class="delimiter">'</span><span class="delimiter">'</span></span>,
                    <span class="key">url</span>: <span class="string"><span class="delimiter">'</span><span class="content">jdbc:h2:mem:DYNAMIC_CONNECTION;LOCK_TIMEOUT=10000 DB_CLOSE_ON_EXIT=TRUE</span><span class="delimiter">'</span></span>,
            )
        }
    }

}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td><code>ApplicationService</code> is the object in charge of the application setup</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td><code>ConnectionSourceService</code> service injection</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>The <code>onInstall { &#8230;&#8203; }</code> closure is called only the first time the application runs for the DEFAULT Tenant and each time a new Tenant is created</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>The <code>create()</code> method creates a new connection and connects to it. Once created the application will automatically connect to it each time it boots up. Connection details can be changed via GUI accessing as <code>super</code> from the menu <code>System Configuration &#8594; Connection Sources</code></td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_tenants">Tenants</h3>
<div class="paragraph">
<p><em>Multi-Tenants</em> applications share the code while connecting to different databases, usually one for each different company. This way data is kept separated with no risk of disclosing data from one company to the other.</p>
</div>
<div class="paragraph">
<p>Application users can belong only to one Tenant. If a person needs to access different Tenants, then two different accounts must be created. To configure and manage users for a Tenant you have to access the application as the admin user. For each Tenant a default admin user is created with the same name as the Tenant (E.g. the Tenant called <code>TEST</code> is going to have a <code>test</code> user which is the Tenant administrator.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The default password for such users corresponds to their names. To change the password you need to log in with the admin user and change it from the <code>User Profile</code>. Go to <code>User Menu (top right) &#8594; Profile</code>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>New Tenants can be created from the <em>Dueuno Elements</em> GUI accessing as <code>super</code> from the menu <code>System Configuration &#8594; Tenants</code>. If multi-tenancy is not a requirement to your application you will be using the <code>DEFAULT</code> Tenant which is automatically created.</p>
</div>
</div>
<div class="sect2">
<h3 id="_user_management">User Management</h3>
<div class="paragraph">
<p>Users can access a <em>Dueuno Elements</em> application with credentials made of a username and a secret password. Each user must be configured by the Tenant&#8217;s <code>admin</code> user from the menu <code>System Administration &#8594; Users</code> and <code>System Administration &#8594; Groups</code>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/quick-start/basics-users.png" alt="Groups">
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="building-crud">CRUD</h2>
<div class="sectionbody">
<div class="paragraph">
<p>One of the most useful GUI pattern is the CRUD (Create, Read, Update, and Delete). It is based on the four basic operations available to work with persistent data and databases.</p>
</div>
<div class="paragraph">
<p>Applications are made of features, we register one to work with movies (See <a href="#features">[features]</a>).</p>
</div>
<div class="listingblock">
<div class="title">grails-app/init/BootStrap.groovy</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="type">class</span> <span class="class">BootStrap</span> {

    ApplicationService applicationService <i class="conum" data-value="1"></i><b>(1)</b>

    <span class="keyword">def</span> init = { servletContext -&gt;
        applicationService.init {
            registerFeature( <i class="conum" data-value="2"></i><b>(2)</b>
                    <span class="key">controller</span>: <span class="string"><span class="delimiter">'</span><span class="content">movie</span><span class="delimiter">'</span></span>,
                    <span class="key">icon</span>: <span class="string"><span class="delimiter">'</span><span class="content">fa-film</span><span class="delimiter">'</span></span>,
                    <span class="key">favourite</span>: <span class="predefined-constant">true</span>,
            )
        }
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>See <a href="#application">[application]</a></td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>See <a href="#registerFeature">[registerFeature]</a></td>
</tr>
</table>
</div>
<div class="paragraph">
<p>We are going to implement a simple database with <a href="https://gorm.grails.org/" target="_blank" rel="noopener">GORM for Hibernate</a> on top of which we can build our GUI.</p>
</div>
<div class="listingblock">
<div class="title">grails-app/domain/TMovie.groovy</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="type">class</span> <span class="class">TMovie</span> <span class="directive">implements</span> MultiTenant&lt;TMovie&gt; {

    LocalDateTime dateCreated
    <span class="predefined-type">String</span> title
    <span class="predefined-type">Integer</span> released

    <span class="directive">static</span> hasMany = [<span class="key">actors</span>: TActor]

    <span class="directive">static</span> constraints = {
    }
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">grails-app/domain/TActor.groovy</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="type">class</span> <span class="class">TActor</span> <span class="directive">implements</span> MultiTenant&lt;TActor&gt; {

    LocalDateTime dateCreated
    <span class="predefined-type">String</span> firstname
    <span class="predefined-type">String</span> lastname

    <span class="directive">static</span> constraints = {
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>To create a CRUD user interface we are going to implement a controller with the following actions. The business logic will be implemented into a service to keep it decoupled from the GUI.</p>
</div>
<div class="listingblock">
<div class="title">grails-app/controllers/BookController.groovy</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="annotation">@Secured</span>([<span class="string"><span class="delimiter">'</span><span class="content">ROLE_CAN_EDIT_MOVIES</span><span class="delimiter">'</span></span>]) <i class="conum" data-value="1"></i><b>(1)</b>
<span class="type">class</span> <span class="class">MovieController</span> <span class="directive">implements</span> ElementsController { <i class="conum" data-value="2"></i><b>(2)</b>

    <span class="keyword">def</span> <span class="function">index</span>() {
        <span class="comment">// will display a list of movies</span>
    }

    <span class="keyword">def</span> <span class="function">create</span>() { <i class="conum" data-value="3"></i><b>(3)</b>
        <span class="comment">// will display a form with the movie title</span>
    }

    <span class="keyword">def</span> <span class="function">onCreate</span>() { <i class="conum" data-value="3"></i><b>(3)</b>
        <span class="comment">// will create the movie record on the database</span>
    }

    <span class="keyword">def</span> <span class="function">edit</span>() {
        <span class="comment">// will display the details of a movie</span>
    }

    <span class="keyword">def</span> <span class="function">onEdit</span>() {
        <span class="comment">// will update the movie record on the database</span>
    }

    <span class="keyword">def</span> <span class="function">onDelete</span>() {
        <span class="comment">// will delete a movie record from the database</span>
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Only users with the <code>ROLE_CAN_EDIT_MOVIES</code> authority can access the actions in this controller.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Implementing <code>ElementsController</code> the <em>Dueuno Elements</em> API will become available</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>As a convention, all actions building and displaying a GUI are named after a verb or a name while all actions that execute a business logic are identified by a name starting with <code>on</code>.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>We are going to use the <code>ContentList</code> content to list the records, the <code>ContentCreate</code> and <code>ContentEdit</code> contents to create a new record and edit an existing one (See <a href="#contents">[contents]</a>).</p>
</div>
<div class="listingblock">
<div class="title">grails-app/controllers/BookController.groovy</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="annotation">@Secured</span>([<span class="string"><span class="delimiter">'</span><span class="content">ROLE_CAN_EDIT_MOVIES</span><span class="delimiter">'</span></span>])
<span class="type">class</span> <span class="class">MovieController</span> <span class="directive">implements</span> ElementsController {

    MovieService movieService <i class="conum" data-value="1"></i><b>(1)</b>

    <span class="keyword">def</span> <span class="function">index</span>() {
        <span class="keyword">def</span> c = createContent(ContentList)
        c.table.with {
            filters.with {
                addField(
                        <span class="type">class</span>: <span class="class">TextField</span>,
                        <span class="key">id</span>: <span class="string"><span class="delimiter">'</span><span class="content">find</span><span class="delimiter">'</span></span>,
                        <span class="key">label</span>: TextDefault.FIND,
                        <span class="key">cols</span>: <span class="integer">12</span>,
                )
            }
            sortable = [
                    <span class="key">title</span>: <span class="string"><span class="delimiter">'</span><span class="content">asc</span><span class="delimiter">'</span></span>,
            ]
            columns = [
                    <span class="string"><span class="delimiter">'</span><span class="content">title</span><span class="delimiter">'</span></span>,
                    <span class="string"><span class="delimiter">'</span><span class="content">released</span><span class="delimiter">'</span></span>,
            ]

            body.eachRow { TableRow row, <span class="predefined-type">Map</span> values -&gt;
                <span class="comment">// Do not execute slow operations here to avoid slowing down the table rendering</span>
            }
        }

        c.table.body = movieService.list(c.table.filtersParams, c.table.fetchParams)
        c.table.paginate = movieService.count(c.table.filtersParams)

        display <span class="key">content</span>: c
    }

    <span class="directive">private</span> buildForm(TMovie obj = <span class="predefined-constant">null</span>) {
        <span class="keyword">def</span> c = obj
                ? createContent(ContentEdit)
                : createContent(ContentCreate)

        c.form.with {
            validate = TMovie
            addField(
                    <span class="type">class</span>: <span class="class">TextField</span>,
                    <span class="key">id</span>: <span class="string"><span class="delimiter">'</span><span class="content">title</span><span class="delimiter">'</span></span>,
            )
            addField(
                    <span class="type">class</span>: <span class="class">NumberField</span>,
                    <span class="key">id</span>: <span class="string"><span class="delimiter">'</span><span class="content">released</span><span class="delimiter">'</span></span>,
            )
        }

        <span class="keyword">if</span> (obj) {
            c.form.values = obj
        }

        <span class="keyword">return</span> c
    }

    <span class="keyword">def</span> <span class="function">create</span>() {
        <span class="keyword">def</span> c = buildForm()
        display <span class="key">content</span>: c, <span class="key">modal</span>: <span class="predefined-constant">true</span>
    }

    <span class="keyword">def</span> <span class="function">onCreate</span>() {
        <span class="keyword">def</span> obj = movieService.create(params)
        <span class="keyword">if</span> (obj.hasErrors()) {
            display <span class="key">errors</span>: obj
            <span class="keyword">return</span>
        }

        display <span class="key">action</span>: <span class="string"><span class="delimiter">'</span><span class="content">index</span><span class="delimiter">'</span></span>
    }

    <span class="keyword">def</span> <span class="function">edit</span>() {
        <span class="keyword">def</span> obj = movieService.get(params.id)
        <span class="keyword">def</span> c = buildForm(obj)
        display <span class="key">content</span>: c, <span class="key">modal</span>: <span class="predefined-constant">true</span>
    }

    <span class="keyword">def</span> <span class="function">onEdit</span>() {
        <span class="keyword">def</span> obj = movieService.update(params)
        <span class="keyword">if</span> (obj.hasErrors()) {
            display <span class="key">errors</span>: obj
            <span class="keyword">return</span>
        }

        display <span class="key">action</span>: <span class="string"><span class="delimiter">'</span><span class="content">index</span><span class="delimiter">'</span></span>
    }

    <span class="keyword">def</span> <span class="function">onDelete</span>() {
        <span class="keyword">try</span> {
            movieService.delete(params.id)
            display <span class="key">action</span>: <span class="string"><span class="delimiter">'</span><span class="content">index</span><span class="delimiter">'</span></span>

        } <span class="keyword">catch</span> (e) {
            display <span class="key">exception</span>: e
        }
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Service injection, see the implementation below</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>We will implement the database operations using <a href="https://gorm.grails.org/" target="_blank" rel="noopener">GORM for Hibernate</a>, the default Object Relational Mapper used by Grails.</p>
</div>
<div class="listingblock">
<div class="title">grails-app/services/MovieService.groovy</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy"><span class="annotation">@Slf4j</span>
<span class="annotation">@CurrentTenant</span>
<span class="type">class</span> <span class="class">MovieService</span> {

    <span class="directive">private</span> DetachedCriteria&lt;TMovie&gt; buildQuery(<span class="predefined-type">Map</span> filters) {
        <span class="keyword">def</span> query = TMovie.where {}

        <span class="keyword">if</span> (filters.containsKey(<span class="string"><span class="delimiter">'</span><span class="content">id</span><span class="delimiter">'</span></span>)) query = query.where { id == filters.id }

        <span class="keyword">if</span> (filters.find) {
            query = query.where {
                title =~ <span class="string"><span class="delimiter">&quot;</span><span class="content">%</span><span class="inline"><span class="inline-delimiter">${</span>search<span class="inline-delimiter">}</span></span><span class="content">%</span><span class="delimiter">&quot;</span></span>
            }
        }

        <span class="comment">// Add additional filters here</span>

        <span class="keyword">return</span> query
    }

    TMovie get(<span class="predefined-type">Serializable</span> id) {
        <span class="comment">// Add any relationships here (Eg. references to other DomainObjects or hasMany)</span>
        <span class="predefined-type">Map</span> fetch = [
                <span class="key">actors</span>: <span class="string"><span class="delimiter">'</span><span class="content">join</span><span class="delimiter">'</span></span>,
        ]

        <span class="keyword">return</span> buildQuery(<span class="key">id</span>: id).get(<span class="key">fetch</span>: fetch)
    }

    <span class="predefined-type">List</span>&lt;TMovie&gt; list(<span class="predefined-type">Map</span> filterParams = [:], <span class="predefined-type">Map</span> fetchParams = [:]) {
        <span class="keyword">if</span> (!params.sort) params.sort = [<span class="key">dateCreated</span>: <span class="string"><span class="delimiter">'</span><span class="content">asc</span><span class="delimiter">'</span></span>]

        <span class="comment">// Add single-sided relationships here (Eg. references to other Domain Objects)</span>
        <span class="comment">// DO NOT add hasMany relationships, you are going to have troubles with pagination</span>
<span class="comment">//        params.fetch = [</span>
<span class="comment">//                actors: 'join',</span>
<span class="comment">//        ]</span>

        <span class="keyword">def</span> query = buildQuery(filterParams)
        <span class="keyword">return</span> query.list(fetchParams)
    }

    <span class="predefined-type">Integer</span> count(<span class="predefined-type">Map</span> filterParams = [:]) {
        <span class="keyword">def</span> query = buildQuery(filterParams)
        <span class="keyword">return</span> query.count()
    }

    TMovie create(<span class="predefined-type">Map</span> args = [:]) {
        <span class="keyword">if</span> (args.failOnError == <span class="predefined-constant">null</span>) args.failOnError = <span class="predefined-constant">false</span>

        TMovie obj = <span class="keyword">new</span> TMovie(args)
        obj.save(<span class="key">flush</span>: <span class="predefined-constant">true</span>, <span class="key">failOnError</span>: args.failOnError)

        <span class="keyword">return</span> obj
    }

    TMovie update(<span class="predefined-type">Map</span> args = [:]) {
        <span class="predefined-type">Serializable</span> id = ArgsException.requireArgument(args, <span class="string"><span class="delimiter">'</span><span class="content">id</span><span class="delimiter">'</span></span>)
        <span class="keyword">if</span> (args.failOnError == <span class="predefined-constant">null</span>) args.failOnError = <span class="predefined-constant">false</span>

        TMovie obj = get(id)
        obj.properties = args
        obj.save(<span class="key">flush</span>: <span class="predefined-constant">true</span>, <span class="key">failOnError</span>: args.failOnError)

        <span class="keyword">return</span> obj
    }

    <span class="type">void</span> delete(<span class="predefined-type">Serializable</span> id) {
        TMovie obj = get(id)
        obj.delete(<span class="key">flush</span>: <span class="predefined-constant">true</span>, <span class="key">failOnError</span>: <span class="predefined-constant">true</span>)
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Run the application with gradle <code>bootRun</code>, you should be able to create, list, edit and delete movies.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_whats_next">What&#8217;s next?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Read the <a href="#dueuno-elements-book">Dueuno Elements Book</a> or the <a href="#api-reference">Dueuno Elements API</a></p>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Version 2.x-SNAPSHOT<br>
Last updated 2024-11-28 15:42:31 +0100
</div>
</div>
</body>
</html>